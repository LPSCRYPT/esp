// SPDX-License-Identifier: MIT

pragma solidity ^0.8.17;

import { Script } from "forge-std/Script.sol";
// import { Vm } from "forge-std/Vm.sol";
import { console } from "forge-std/console.sol";

// MUD Core
import { World } from "../../../../World.sol";

// ESP Core
import { SignalRouterSystem } from "../../../SignalRouterSystem.sol";
import { StreamOwnerRegistry } from "../../../stream-abstraction/StreamOwnerRegistry.sol";

// DxDAO Core
import { DxDAOMemberAvailablePointsComponent } from "../DxDAOMemberAvailablePointsComponent.sol";
import { DxDAOMemberPointsRegistry } from "../DxDAOMemberPointsRegistry.sol";
import { DxDAOMemberPointsSystem } from "../DxDAOMemberPointsSystem.sol";
import { DxDAOMemberRegistrySystem } from "../DxDAOMemberRegistrySystem.sol";
import { DxDAOSignalStoreComponent } from "../DxDAOSignalStoreComponent.sol";
import { UserPoints } from "../lib/UserPoints.sol";

contract DxDAddMembers is Script {
  address[] public newMembers = [
    0x81A94868572EA6E430F9a72ED6C4afB8b5003fDF,
    0x08f8C46f9f71E301bA41f59C253c412F1A129daD,
    0x1861974f32eaCDCceD0F81b0f8eCcFeD58153a9D,
    0x91AEF3c3b9BAb2c306548269Ff9b6771f2B107D8,
    0x8E900Cf9BD655e34bb610f0Ef365D8d476fD7337,
    0x9CA367224770B496fe009403da7b93A543DF3C45,
    0x26358E62C2eDEd350e311bfde51588b8383A9315,
    0x91628ddc3A6ff9B48A2f34fC315D243eB07a9501,
    0xe16d3664b313bd5FB8D911b467047e3CB4Ed853D,
    0xB5806a701c2ae0366e15BDe9bE140E82190fa3d6,
    0x08EEc580AD41e9994599BaD7d2a74A9874A2852c,
    0xc36cBdd85791a718ceFCA21045E773856A89C197,
    0xD97672177E0673227FA102C91BFA8b8cfA825141,
    0x617512FA7d3fd26bdA51b9Ac8c23b04a48D625f1,
    0x0b17cf48420400e1D71F8231d4a8e43B3566BB5B,
    0x95a223299319022a842D0DfE4851C145A2F615B9,
    0xF006779eAbE823F8EEd05464A1628383af1f7afb,
    0x436Bb9e1f02C9cA7164afb5753C03c071430216d,
    0x3111327EdD38890C3fe564afd96b4C73e8101747,
    0x29e1a61fccd40408f489336993E798d14D57d77f,
    0x3346987E123Ffb154229F1950981d46E9F5C90dE,
    0xe836A47D43c684a3089290C7d64db65dDCbD20Eb,
    0x98E6E4a3856049Fec1272f61127eC30A96F77256,
    0xD179b3217F9593a9FAac7c85D5ACAF1F5223d762,
    0xa493f3Adf76560092088a61e9e314a08D0B1B2b8,
    0x5A3992044A131c2f633394065C13BA1b33CdFFD9,
    0x7958bA4a50498fAf40476D613D886F683c464bec,
    0x7e72CfD9a36517435dc1ca7f9451ECCBC973111E,
    0xF96187c99389cB17dAc7B1D762c1F549A249c987,
    0x05b0B6Ef681c9413D0e457f08aBA8354b8BF482a,
    0x7a129f63747876Ae82DB1d5587a7Ef23bAc8de8d,
    0xb0e83C2D71A991017e0116d58c5765Abc57384af,
    0xA3d59249b5bAe16905613aD2BE5639FFA35BBb57,
    0xf322FE674862649ed7f6ABd747b71F27Ebf88fDB,
    0x05A4Ed2367BD2F0Aa63cC14897850be7474bc722,
    0xA932E2C7d88497fdee9d87e5a450BaE3874ff1A1,
    0x80Fb2960BD41c9B63de0e72E09944f027Fd682d7,
    0x3b2C9A92A448be45DcfF2c08A0D3Af4178Fc14D7,
    0xb492873D940dAc02B5021dFF82282d8374509582,
    0xe6dc752F04414251d7b3474A7F9FF99e23647eFB,
    0xf3F93fabD88065c98a88f8c229085CE7D800E317,
    0x8F44e0c4dE4CDDd1dE0F15577a36C8C4fc7097c5,
    0x2B1a6dD2a80f7e9A2305205572Df0F4B38b205A1,
    0x6f7C864Cc0FC9Fb2Fe26f53C031d3deeC0b8d7d5,
    0x8EcAB7B8ed8215cA52500cbf1548B9239173ef82,
    0x03e4766aE55862c37D133FfDF497678e3d603A0c,
    0xF197CAF7b8cE72137C931Ef1fE0a70f4FBd2C545,
    0xFCd81C0D8fcDBA864cc558c17aF8EF83D05bdF45,
    0x275cabAf6452D8A90FFB037B2aDB38f7194c57C7,
    0x1F36692c6e2c85C7D2384AbC2e9ff62515221587,
    0x759A2169dA1b826F795A00A9aB5f29F9ca39E48a,
    0x4e91c9F086DB2Fd8aDb1888e9b18e17F70B7BdB6,
    0xdec0DED0606B7d0560ADEBD6C3a919a671dB4D66,
    0xa5cCAc7DE780193dbf3553893D7200915166d863,
    0x536243477e3360F7936Be8f53Ba2CCF67Eb0012c,
    0x49786cB81DC288328459948a4039F069E4B4f8E3,
    0xBc3a058D1c919f6b1F48E8846246D04D467902c8,
    0x6A4E948a81E20802C91bB48D825A741a6F1E9062,
    0xF50A3cfd68A00009623e1767eb696C4cC9347A7d,
    0x4502166bE703312eae5137AD7399393b09471F27,
    0x663d3947f03eF5B387992b880aC85940057c13e3,
    0xC75446A6AdaEF73269dBdEcE73536977B2b639e0,
    0x79b63d1077C2F12015397A0922E516C1f68C0cE5,
    0x2A1049062c6Cfd69bd38fbaf3b0559DF1DBbc92c,
    0x11AA7ef6d9Fb561b2050c90F655286eA2409A477,
    0x9aE035dEE8318A9b9fD080Dda31D7524098f65EF,
    0x91323447Dd945D0Efebd0eB4D9dad7C8478a40Bd,
    0xd4ab0868BbEf1b29D55ED66AFBF4a0aB516C2294,
    0xEfbC103259B500EBe6408fc7c91535b0e158E22b,
    0x3f78441292b95F346475e9aEf2649eBA5DcbF477,
    0x477d239B2b073510381db18ecC2BD949a6917649,
    0x35d78f3F493E2942578DCB9B4A4Ad35727231217,
    0x7088C5611dAE159A640d940cde0a3221a4af8896,
    0xA9fA105CC800137B8BC9E7bD34d26460E1E77b9A,
    0xe8A06462628b49eb70DBF114EA510EB3BbBDf559,
    0xca8252Afdf0dc2a94eaDef82536bB53C0Be7716A,
    0x1f585827EBe126f919D7A1e282DA0322bb210700,
    0x137695899d5cCFEA3084a2C3D026A757eE3f0464,
    0xB4B04564f56f4795EA4e14d566aF78dA54a99980,
    0xB4599439114a6a814218254008ed5c60D0d8049d,
    0x935D2fD458fdf41B6F7B62471f593797866a3Ce6,
    0xa018fEB6840781436e5440De92F91659bCE036b6,
    0xD97beFFDf558b269257fEba5dF111Ab718B71E24,
    0x69d962A66E5BfFf0875cB7a6345bE283bC6437d2,
    0xc4705681d89aA0d84B3f23e382a3A4c0Cd372b28,
    0x628cC4601166a44e5378717790c8Da50de0cce9B,
    0x25744247A760Dd8c73Eaa81307E1ff827E8BcFa3,
    0xC4a69FBf4511A1377161834Cb7a3B8766953dB02,
    0x58B753F0c417494226Af608B63E80028255CBc64,
    0xced2d002d5C2E5a3Ef2C3AAE00C671a1d2B225a6,
    0x40035B9144baC13A0ca93003526f77dF3a8E2b55,
    0x261e421A08028E2236928EFB1A1f93CeA7e95CE7,
    0xAAa62DFEB5f428C4c7B03743EBC7ac1e7BC4BC8e,
    0x151EaaA48bbD08B7Cc37B52216Cf54f54c41b24b,
    0x8a5749A90C334953fD068aCA14F1044eb3F7dFDd,
    0xe4701b3c489Bd1De2C8ffBDFE9801092859afCcc,
    0xf139D72025bcde807b2ED618a065c2550E0C7c90,
    0x2a58Ab26538a905F08aC7838B83c1c160430e744,
    0x1dB2f5E4d469b59a6b7911Dc20133d46FF45B412,
    0x88f1706c20d94A4d1551C5F799C9E3380A24C3AC,
    0x35E2acD3f46B13151BC941daa44785A38F3BD97A,
    0xbD7ACDbA6383F3187C0d7DBd046AF0834F06E92e,
    0x1c85d6Ae1336D0e4E3F165bbfA9641bfA04CeDb1,
    0x914AA366fc6AF1CEF6d8B98Dd24b2842E0d14c39,
    0xA92a012274E4056e1E591e52073D6C839af187C6,
    0xa5A29f81EEE450eC189b2F8B4562af1785595D69,
    0x7FB1D2CF886A66f0A2D6a4c841f529F116E274B1,
    0x99Fa013188d5f1dB6836Ee8805Ef37BE70ff10BE,
    0x3f4c9C64F2a08a781C2C274fF97982Cd5f4C9958,
    0xdCA51787f58C18fB8f613a27b84b108324ac4C52,
    0x734C242BA2d6A47644093F874FA4dad15005CF19,
    0xA601aeD34dda12fF760d8ABb64Fd4Eb3664E35Af,
    0xF6e141fcF80404EB060A16F314077453ed3c2615,
    0x2a21A5cbe03C419a6f470d1Fe48Ec53e8Cbd2E86,
    0x0BE639F29F75D7f0518a30e225aC9D898e034176,
    0x2e7853783E5a64f6F5971d538441a629F5CC05bD,
    0x27657399177403a891CC7A22Bd6F2C00621Db7b0,
    0xE2F35B376461E7FDd2f2E45248E4c3cD9626A933
  ];
  // uint256[] memory newPoints = new uint256[](118);
  uint256[] public newPoints = [
    100,
    100,
    99,
    97,
    95,
    91,
    89,
    84,
    83,
    81,
    79,
    71,
    66,
    61,
    51,
    49,
    46,
    44,
    40,
    38,
    35,
    33,
    33,
    32,
    27,
    27,
    26,
    25,
    25,
    25,
    25,
    22,
    21,
    19,
    19,
    15,
    14,
    14,
    14,
    13,
    10,
    10,
    10,
    9,
    8,
    8,
    8,
    8,
    7,
    6,
    6,
    6,
    5,
    5,
    4,
    4,
    4,
    4,
    4,
    4,
    4,
    4,
    4,
    4,
    3,
    3,
    3,
    3,
    3,
    2,
    2,
    2,
    2,
    2,
    2,
    2,
    2,
    2,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1
  ];

  function run() public {
    // update arrays with new members & their points
    uint256 stream = 1;
    // address[] memory newMembers = new address[](118);

    uint256 deployerPrivateKey = vm.envUint("GNOSIS_PRIVATE_KEY");

    vm.startBroadcast(deployerPrivateKey);

    DxDAOMemberPointsRegistry memberpoints = DxDAOMemberPointsRegistry(0x5217eed75D81110E6b2F02D978113Dcf0d8000FD);

    memberpoints.addUsers(stream, newMembers, newPoints);

    vm.stopBroadcast();
  }
}

// run using
/**
forge script src/esp-contracts/examples/DxDAO/script/DxDAddMembers.s.sol:DxDAddMembers --rpc-url $GNOSIS_RPC_URL --broadcast --private-key $GNOSIS_PRIVATE_KEY
 */
